{"version":3,"sources":["backend/ProposedProcedureExport.ts"],"names":["ProposedProcedureExport","$widget","this","initExportRow","prototype","recalcLinks","withdrawn","find","prop","onlyPublic","each","ev","el","link","$","data","replace","attr","on","stopPropagation","change","bind","trigger","exports"],"mappings":"0IAAA,IAAAA,EAAA,WACI,SAAAA,EAAoBC,GAAAC,KAAAD,QAAAA,EAChBC,KAAKC,gBAoBb,OAjBYH,EAAAI,UAAAC,YAAR,WACI,IAAIC,EAAaJ,KAAKD,QAAQM,KAAK,wBAAwBC,KAAK,WAAa,EAAI,EAC7EC,EAAcP,KAAKD,QAAQM,KAAK,0BAA0BC,KAAK,WAAa,EAAI,EACpFN,KAAKD,QAAQM,KAAK,aAAaG,KAAK,SAACC,EAAIC,GACrC,IAAIC,EAAOC,EAAEF,GAAIG,KAAK,YAEtBF,GADAA,EAAOA,EAAKG,QAAQ,WAAYV,IACpBU,QAAQ,aAAcP,GAClCK,EAAEF,GAAIK,KAAK,OAAQJ,MAInBb,EAAAI,UAAAD,cAAR,WACID,KAAKD,QAAQM,KAAK,eAAeW,GAAG,QAAS,SAAUP,GACnDA,EAAGQ,oBAEPjB,KAAKD,QAAQM,KAAK,wBAAwBa,OAAOlB,KAAKG,YAAYgB,KAAKnB,OAAOoB,QAAQ,WAE9FtB,EAtBA,GAAauB,EAAAvB,wBAAAA","file":"ProposedProcedureExport.js","sourcesContent":["export class ProposedProcedureExport {\n    constructor(private $widget: JQuery) {\n        this.initExportRow();\n    }\n\n    private recalcLinks() {\n        let withdrawn = (this.$widget.find(\"input[name=comments]\").prop(\"checked\") ? 1 : 0);\n        let onlyPublic = (this.$widget.find(\"input[name=onlypublic]\").prop(\"checked\") ? 1 : 0);\n        this.$widget.find(\"a.odsLink\").each((ev, el) => {\n            let link = $(el).data(\"href-tpl\");\n            link = link.replace(\"COMMENTS\", withdrawn);\n            link = link.replace(\"ONLYPUBLIC\", onlyPublic);\n            $(el).attr(\"href\", link);\n        });\n    }\n\n    private initExportRow() {\n        this.$widget.find(\"li.checkbox\").on(\"click\", function (ev) {\n            ev.stopPropagation();\n        });\n        this.$widget.find(\"input[type=checkbox]\").change(this.recalcLinks.bind(this)).trigger(\"change\");\n    }\n}\n"]}