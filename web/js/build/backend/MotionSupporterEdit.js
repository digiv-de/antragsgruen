define(["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MotionSupporterEdit=void 0;var r=function(e){this.$supporterHolder=e;var u=this.$supporterHolder.find("> ul");0<u.length&&Sortable.create(u[0],{draggable:"li"}),$(".supporterRowAdder").on("click",function(e){u.append($(this).data("content")),e.preventDefault()}),u.on("click",".delSupporter",function(e){e.preventDefault(),$(this).parents("li").first().remove()});var d=$("#fullTextHolder");e.find(".fullTextAdd").on("click",function(){for(var e=d.find("textarea").val().split(";"),i=$(".supporterRowAdder").data("content"),t=function(){for(var e=u.find("> li"),t=0;t<e.length;t++){var r=e.eq(t);if(""==r.find(".supporterName").val()&&""==r.find(".supporterOrga").val())return r}var n=$(i);return u.append(n),n},r=null,n=0;n<e.length;n++)if(""!=e[n]){var o=t();null==r&&(r=o);var l=e[n].split(","),a=l.shift();if(o.find("input.supporterName").val(a.trim()),0<o.find("input.supporterOrga").length&&0<l.length){var p=l.shift();o.find("input.supporterOrga").val(p.trim())}0<o.find(".colGender").length&&0<l.length&&o.find(".colGender").first().children().selectlist("selectByValue",l[0])}d.find("textarea").select().focus(),r.scrollintoview()});var t=e.find(".fullTextCopy"),r=new ClipboardJS(t[0],{text:function(){var o=[];return e.find(".supporterRow").each(function(e,t){var r=$(t),n=[];if(r.find(".supporterName").length&&n.push(r.find(".supporterName").val().replace(/,/," ").replace(/;/," ")),r.find(".supporterOrga").length&&n.push(r.find(".supporterOrga").val().replace(/,/," ").replace(/;/," ")),r.find(".colGender").length){var i=r.find(".colGender").first().children();n.push(i.selectlist("getValue").value)}o.push(n.join(","))}),o.join(";")}});r.on("success",function(){t.addClass("done"),window.setTimeout(function(){t.removeClass("done")},1e3)}),r.on("error",function(){alert("Could not copy the URL to the clipboard")}),$('[data-toggle="tooltip"]').tooltip()};t.MotionSupporterEdit=r});
//# sourceMappingURL=MotionSupporterEdit.js.map
