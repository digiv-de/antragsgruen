define(["require","exports"],function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ConsultationSettings=void 0;var n=function(){function t(t){this.$form=t,this.initUrlPath(),this.initTags(),this.initOrganisations(),this.initAdminMayEdit(),this.initSingleMotionMode(),$('[data-toggle="tooltip"]').tooltip()}return t.prototype.initUrlPath=function(){$(".urlPathHolder .shower a").on("click",function(t){t.preventDefault(),$(".urlPathHolder .shower").addClass("hidden"),$(".urlPathHolder .holder").removeClass("hidden")})},t.prototype.initSingleMotionMode=function(){$("#singleMotionMode").on("change",function(){$(this).prop("checked")?$("#forceMotionRow").removeClass("hidden"):$("#forceMotionRow").addClass("hidden")}).trigger("change")},t.prototype.initAdminMayEdit=function(){var i=$("#adminsMayEdit"),n=$("#iniatorsMayEdit").parents("label").first().parent();i.on("change",function(){if($(this).prop("checked"))n.removeClass("hidden");else{var t=__t("admin","adminMayEditConfirm");bootbox.confirm(t,function(t){t?(n.addClass("hidden"),n.find("input").prop("checked",!1)):i.prop("checked",!0)})}}),i.prop("checked")||n.addClass("hidden")},t.prototype.htmlEntityDecode=function(t){var i=document.createElement("div");return i.innerHTML=t,i.innerText},t.prototype.initTags=function(){var a=this;this.$form.on("submit",function(){var t,i=$("#tagsList").pillbox("items"),n=[],e=$('<input type="hidden" name="tags">');for(t=0;t<i.length;t++){var o=a.htmlEntityDecode(i[t].text);void 0===i[t].id?n.push({id:0,name:o}):n.push({id:i[t].id,name:o})}e.attr("value",JSON.stringify(n)),a.$form.append(e)}),Sortable.create(document.getElementById("tagsListUl"),{draggable:".pill"})},t.prototype.initOrganisations=function(){var o=this;this.$form.on("submit",function(){var t,i=$("#organisationList").pillbox("items"),n=[],e=$('<input type="hidden" name="organisations">');for(t=0;t<i.length;t++)n.push(o.htmlEntityDecode(i[t].text));e.attr("value",JSON.stringify(n)),o.$form.append(e)}),Sortable.create(document.getElementById("organisationListUl"),{draggable:".pill"})},t}();i.ConsultationSettings=n});
//# sourceMappingURL=ConsultationSettings.js.map
